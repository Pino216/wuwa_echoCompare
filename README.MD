# 鸣潮伤害分析与声骸词条对比工具 v1.4

## 📖 项目概述

鸣潮伤害分析与声骸词条对比工具是一款专为《鸣潮》游戏玩家设计的专业伤害计算器。本工具通过精确的伤害计算模型，帮助玩家分析角色伤害构成、对比不同声骸词条的提升效果，并优化角色配装策略。

👉 **[点击这里在线使用本工具](https://pino216.github.io/wuwa_echoCompare/)**

## ✨ 核心功能

### 🎯 伤害计算引擎
- **多基数支持**：支持攻击力、生命值、防御力三种伤害基数
- **完整伤害公式**：包含基础属性、暴击期望、伤害加成、伤害加深等完整计算
- **实时计算**：所有输入变更实时触发伤害重新计算（带防抖优化）
- **详细加成分析**：显示每个动作的属性加成、伤害加成、伤害加深等详细倍率

### 📊 声骸词条对比系统
- **双声骸对比**：同时配置两个声骸的词条进行详细对比
- ~~**装备状态模拟**：支持声骸A已装备/未装备两种对比模式~~
- **词条影响分析**：详细展示每个词条对最终伤害的影响
- **完整对比报告**：生成包含词条对比、伤害类型变化、结论的详细分析报告

### 🔄 动作序列管理
- **多动作支持**：可创建包含多个动作的战斗序列
- **动态Buff绑定**：每个动作可独立绑定激活的Buff
- **伤害类型分类**：支持普攻、重击、共鸣技能、共鸣解放、声骸技能及自定义类型
- **基数选择**：每个动作可选择攻击力、生命值、防御力作为伤害基数

### 🎨 数据可视化与分析
- **伤害组成图表**：环形图直观展示各伤害类型占比
- **详细数据表格**：表格展示伤害值、占比、累计占比
- **伤害组成详情**：按伤害类型分类统计，显示详细数据
- **详细加成分析**：显示按伤害类型分类的平均加成倍率、暴击期望等

### 💾 数据管理
- **本地存储**：使用浏览器本地存储保存配置，支持自动保存（每5分钟）
- **导入/导出**：支持JSON和Excel格式，Excel导出包含详细计算过程
- **版本控制**：配置数据包含版本信息确保兼容性
- **自定义伤害类型管理**：支持添加、编辑、删除自定义伤害类型

### ⚙️ 高级功能
- **动态Buff分页**：支持大量Buff的分页显示（每页8个）
- **自定义伤害类型**：可创建和管理自定义伤害类型
- **防抖计算**：输入变更时延迟计算，避免性能问题
- **键盘快捷键**：支持Ctrl+S保存、Ctrl+L加载、Ctrl+R计算等快捷键

## 🚀 快速开始

### 1. 基础面板配置
1. 填写角色基础属性（生命、攻击、防御）
2. 设置当前面板总属性值
3. 配置暴击率、暴击伤害
4. 添加固定伤害加成（静态加成）

### 2. 伤害加成配置
1. 添加固定伤害加成（静态加成）
2. 创建自定义伤害类型（如需）
3. 配置动态Buff轨道（支持分页）

### 3. 动作序列创建
1. 添加动作：输入名称、倍率、选择伤害类型和基数
2. 为每个动作绑定激活的Buff
3. 调整动作顺序（通过删除重新添加）

### 4. 声骸对比分析
1. 配置声骸A的词条（可标记为已装备）
2. 配置声骸B的词条
3. 点击"执行全量化分析"查看对比结果

## 🎮 使用技巧

### 快捷键操作
- `Ctrl + S`：快速保存当前配置到本地存储
- `Ctrl + Shift + S`：保存并导出JSON文件
- `Ctrl + L`：从本地存储加载上次保存的配置
- `Ctrl + R`：重新计算伤害（刷新分析结果）

### 高效配置管理
1. **使用预设方案**：将常用角色配置保存为JSON文件
2. **批量操作**：通过Excel导入/导出完整配置
3. **配置复用**：利用本地存储功能快速切换不同配置
4. **自动保存**：工具每5分钟自动保存配置到本地存储

### 高级分析技巧
1. **词条价值评估**：通过对比不同词条组合，找出最优词条
2. **边际收益分析**：观察属性堆叠的边际递减效应
3. **配装优化**：结合角色技能特点选择最佳声骸词条
4. **详细加成分析**：查看每个伤害类型的平均加成倍率，了解伤害构成

## 📁 文件结构说明

```
项目根目录/
├── index.html          # 主界面HTML文件
├── script.js           # 核心JavaScript逻辑（约4000行）
├── style.css           # 样式表文件
├── lib/                # 第三方库目录
│   ├── chart.js        # 图表绘制库
│   └── xlsx.full.min.js # Excel处理库（SheetJS）
├── README.md           # 项目说明文档
└── .gitignore          # Git忽略文件
```

## 🔧 技术架构

### 前端技术栈
- **纯前端实现**：无需后端服务器，所有计算在浏览器完成
- **现代JavaScript**：使用ES6+特性，模块化代码结构
- **响应式设计**：适配桌面端浏览器，支持不同分辨率
- **CSS3动画**：使用渐变背景、过渡动画提升用户体验

### 核心算法
- **伤害计算模型**：基于游戏实际伤害公式的精确模拟
- **词条影响算法**：量化每个词条对最终伤害的贡献
- **数据持久化**：完整的本地存储和文件导入导出系统
- **防抖优化**：输入变更时延迟计算，提升性能

### 第三方依赖
- **Chart.js 3.9+**：用于数据可视化图表
- **SheetJS (xlsx)**：用于Excel文件处理，支持详细计算过程导出
- **原生API**：使用LocalStorage、FileReader、Blob等浏览器原生API

## 📈 功能详细说明

### 伤害计算参数
- **基础属性**：角色基础值、武器加成
- **百分比加成**：攻击%、生命%、防御%等
- **固定值加成**：攻击力、生命值、防御力固定值
- **伤害加成**：普攻、重击、共鸣技能、共鸣解放、声骸技能及自定义类型加成
- **暴击系统**：暴击率、暴击伤害的期望计算
- **伤害加深**：独立乘区加成

### 声骸词条系统
- **百分比词条**：暴击率、暴击伤害、攻击%、生命%、防御%
- **伤害类型词条**：普攻加成、重击加成、共鸣技能加成、共鸣解放加成
- **固定值词条**：攻击力、生命值、防御力固定值
- **特殊词条**：共鸣效率等

### 数据导入导出
- **JSON格式**：完整保存所有配置，推荐用于备份
- **Excel格式**：包含多个工作表（基础面板、静态加成、动态Buff、动作序列、声骸词条、总伤害分析、声骸对比、详细计算过程等）
- **版本兼容**：配置数据包含版本信息，确保向前兼容
- **自定义文件名**：导出时可自定义文件名

## 🐛 已知限制与注意事项

### 功能限制
1. **移动端适配**：当前主要针对桌面端优化，移动端体验可能不佳
2. **性能考虑**：极复杂的配置（大量动作/Buff）可能影响响应速度
3. **Excel导入限制**：Excel导入需要特定格式，建议使用工具导出的模板

### 使用注意事项
1. **数据验证**：工具包含输入验证，但建议用户确保输入数据合理性
2. **计算公式**：基于公开的游戏伤害公式，可能与实际游戏有微小差异
3. **浏览器兼容**：推荐使用Chrome、Edge、Firefox等现代浏览器
4. **数据备份**：建议定期导出配置备份，避免浏览器数据丢失

## 🔮 未来开发计划

### 短期计划（v1.5）
- [ ] 预设方案系统：内置常用角色配置模板
- [ ] 性能优化：进一步优化计算性能
- [ ] 移动端适配：改善小屏幕设备的使用体验

### 中期计划（v1.6）
- [ ] 伤害模拟器：模拟多次攻击的期望伤害分布
- [ ] 词条优化器：自动推荐最优词条组合
- [ ] 多角色对比：同时对比多个角色的伤害表现

### 长期愿景
- [ ] 团队伤害计算：考虑队伍搭配和元素反应
- [ ] 实时数据更新：连接游戏API获取实时角色数据
- [ ] 社区分享功能：用户配置分享和评分系统

## 🤝 贡献与支持

### 问题反馈
如发现bug或有功能建议，请通过以下方式反馈：
1. 检查[已知问题](#已知限制与注意事项)部分
2. 提供详细的重现步骤和配置信息
3. 附上相关截图或错误信息

### 开发贡献
欢迎开发者贡献代码，主要开发方向包括：
1. 算法优化：改进伤害计算精度和性能
2. UI/UX改进：提升用户体验和界面美观度
3. 新功能开发：实现上述开发计划中的功能
4. 文档完善：改进使用文档和代码注释

## 📄 许可证与声明

### 版权声明
- 本工具为个人作品，与《鸣潮》官方无关
- 游戏内角色、物品名称等版权归属其版权所属者
- 工具代码采用MIT开源协议

### 使用条款
1. 本工具仅供个人学习和游戏参考使用
2. 不得用于商业用途或非法目的
3. 作者不对使用本工具造成的任何损失负责

---

## 📝 版本更新日志

### v1.4 更新内容
1. **增加动作序列勾选框**：为动作序列添加勾选功能，方便用户选择需要参与计算的特定动作
2. **奥古斯特2链及6链优化**：新增暴击率转化暴击伤害功能，专门针对奥古斯特角色2链与6链效果进行优化
3. **声骸A默认装备**：删除声骸A的勾选框，声骸A现在默认视为已装备状态，简化操作流程
4. **其他若干优化**：包括性能改进、界面微调及用户体验提升

---

**当前版本**: v1.4  
**最后更新**: 2026-01-17  
**维护状态**: 积极维护中  
**项目作者**: B站@Dark噫术家  

> 💡 提示：建议定期导出配置备份，避免浏览器数据丢失造成损失。  
> 💡 工具支持自动保存功能，每5分钟自动保存配置到本地存储。  
> 💡 使用Excel导出功能可获得包含详细计算过程的完整分析报告。
